<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Chess Tournament</title>
  <link href="style.css" rel="stylesheet">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
</head>

<body>
  <script>
    var data = [
      {
        "matchNo": "MATCH 1",
        "date": "11/21/20",
        "p1": "ARUN",
        "p2": "AMIYA",
        "winner": "ARUN"
      },
      {
        "matchNo": "MATCH 2",
        "date": "11/21/20",
        "p1": "RAHUL",
        "p2": "NITISH",
        "winner": "NITISH"
      },
      {
        "matchNo": "MATCH 3",
        "date": "11/21/20",
        "p1": "PRINCE",
        "p2": "PAWAN",
        "winner": "PRINCE"
      },
      {
        "matchNo": "MATCH 4",
        "date": "11/21/20",
        "p1": "AMIYA",
        "p2": "ASHOK",
        "winner": "AMIYA"
      },
      {
        "matchNo": "MATCH 5",
        "date": "11/22/20",
        "p1": "ARUN",
        "p2": "PAWAN",
        "winner": "ARUN"
      },
      {
        "matchNo": "MATCH 6",
        "date": "11/22/20",
        "p1": "AMIYA",
        "p2": "RAHUL",
        "winner": "DRAW"
      },
      {
        "matchNo": "MATCH 7",
        "date": "11/22/20",
        "p1": "NITISH",
        "p2": "PRINCE",
        "winner": "PRINCE"
      },
      {
        "matchNo": "MATCH 8",
        "date": "11/22/20",
        "p1": "ARUN",
        "p2": "ASHOK",
        "winner": "ASHOK"
      },
      {
        "matchNo": "MATCH 9",
        "date": "11/22/20",
        "p1": "PAWAN",
        "p2": "ASHOK",
        "winner": "ASHOK"
      },
      {
        "matchNo": "MATCH 10",
        "date": "11/23/20",
        "p1": "RAHUL",
        "p2": "ARUN",
        "winner": "RAHUL"
      },
      {
        "matchNo": "MATCH 11",
        "date": "11/23/20",
        "p1": "AMIYA",
        "p2": "PRINCE",
        "winner": "AMIYA"
      },
      {
        "matchNo": "MATCH 12",
        "date": "11/23/20",
        "p1": "PAWAN",
        "p2": "NITISH",
        "winner": "NITISH"
      },
      {
        "matchNo": "MATCH 13",
        "date": "11/23/20",
        "p1": "RAHUL",
        "p2": "ASHOK",
        "winner": "ASHOK"
      },
      {
        "matchNo": "MATCH 14",
        "date": "11/24/20",
        "p1": "ARUN",
        "p2": "NITISH",
        "winner": "ARUN"
      },
      {
        "matchNo": "MATCH 15",
        "date": "11/24/20",
        "p1": "AMIYA",
        "p2": "PAWAN",
        "winner": "AMIYA"
      },
      {
        "matchNo": "MATCH 16",
        "date": "11/24/20",
        "p1": "RAHUL",
        "p2": "PRINCE",
        "winner": "PRINCE"
      },
      {
        "matchNo": "MATCH 17",
        "date": "11/24/20",
        "p1": "PRINCE",
        "p2": "ASHOK",
        "winner": "PRINCE"
      },
      {
        "matchNo": "MATCH 18",
        "date": "11/25/20",
        "p1": "NITISH",
        "p2": "AMIYA",
        "winner": "AMIYA"
      },
      {
        "matchNo": "MATCH 19",
        "date": "11/25/20",
        "p1": "PRINCE",
        "p2": "ARUN",
        "winner": "PRINCE"
      },
      {
        "matchNo": "MATCH 20",
        "date": "11/25/20",
        "p1": "PAWAN",
        "p2": "RAHUL",
        "winner": ""
      },
      {
        "matchNo": "MATCH 21",
        "date": "11/25/20",
        "p1": "NITISH",
        "p2": "ASHOK",
        "winner": "ASHOK"
      },
      {
        "matchNo": "MATCH 22",
        "date": "11/26/20",
        "p1": "ARUN",
        "p2": "AMIYA",
        "winner": "ARUN"
      },
      {
        "matchNo": "MATCH 23",
        "date": "11/26/20",
        "p1": "RAHUL",
        "p2": "NITISH",
        "winner": "RAHUL"
      },
      {
        "matchNo": "MATCH 24",
        "date": "11/26/20",
        "p1": "PRINCE",
        "p2": "PAWAN",
        "winner": ""
      },
      {
        "matchNo": "MATCH 25",
        "date": "11/26/20",
        "p1": "PAWAN",
        "p2": "ASHOK",
        "winner": ""
      },
      {
        "matchNo": "MATCH 26",
        "date": "11/27/20",
        "p1": "ARUN",
        "p2": "PAWAN",
        "winner": "ARUN"
      },
      {
        "matchNo": "MATCH 27",
        "date": "11/27/20",
        "p1": "AMIYA",
        "p2": "RAHUL",
        "winner": "AMIYA"
      },
      {
        "matchNo": "MATCH 28",
        "date": "11/27/20",
        "p1": "NITISH",
        "p2": "PRINCE",
        "winner": "PRINCE"
      },
      {
        "matchNo": "MATCH 29",
        "date": "11/27/20",
        "p1": "AMIYA",
        "p2": "ASHOK",
        "winner": "AMIYA"
      },
      {
        "matchNo": "MATCH 30",
        "date": "11/28/20",
        "p1": "RAHUL",
        "p2": "ARUN",
        "winner": "ARUN"
      },
      {
        "matchNo": "MATCH 31",
        "date": "11/28/20",
        "p1": "AMIYA",
        "p2": "PRINCE",
        "winner": "PRINCE"
      },
      {
        "matchNo": "MATCH 32",
        "date": "11/28/20",
        "p1": "PAWAN",
        "p2": "NITISH",
        "winner": "PAWAN"
      },
      {
        "matchNo": "MATCH 33",
        "date": "11/28/20",
        "p1": "ARUN",
        "p2": "ASHOK",
        "winner": ""
      },
      {
        "matchNo": "MATCH 34",
        "date": "11/29/20",
        "p1": "ARUN",
        "p2": "NITISH",
        "winner": "ARUN"
      },
      {
        "matchNo": "MATCH 35",
        "date": "11/29/20",
        "p1": "AMIYA",
        "p2": "PAWAN",
        "winner": ""
      },
      {
        "matchNo": "MATCH 36",
        "date": "11/29/20",
        "p1": "RAHUL",
        "p2": "PRINCE",
        "winner": "PRINCE"
      },
      {
        "matchNo": "MATCH 37",
        "date": "11/29/20",
        "p1": "RAHUL",
        "p2": "ASHOK",
        "winner": ""
      },
      {
        "matchNo": "MATCH 38",
        "date": "11/29/20",
        "p1": "PRINCE",
        "p2": "ASHOK",
        "winner": ""
      },
      {
        "matchNo": "MATCH 39",
        "date": "11/30/20",
        "p1": "NITISH",
        "p2": "AMIYA",
        "winner": "AMIYA"
      },
      {
        "matchNo": "MATCH 40",
        "date": "11/30/20",
        "p1": "PRINCE",
        "p2": "ARUN",
        "winner": "ARUN"
      },
      {
        "matchNo": "MATCH 41",
        "date": "11/30/20",
        "p1": "PAWAN",
        "p2": "RAHUL",
        "winner": ""
      },
      {
        "matchNo": "MATCH 42",
        "date": "11/30/20",
        "p1": "NITISH",
        "p2": "ASHOK",
        "winner": "ASHOK"
      },
      {
        "matchNo": "MATCH 43",
        "date": "12/1/20",
        "p1": "Position 1",
        "p2": "Position 2",
        "winner": ""
      },
      {
        "matchNo": "MATCH 44",
        "date": "12/1/20",
        "p1": "Position 3",
        "p2": "Position 4",
        "winner": ""
      },
      {
        "matchNo": "MATCH 45",
        "date": "12/2/20",
        "p1": "Winner of Match  44",
        "p2": "Loser of Match 43",
        "winner": ""
      },
      {
        "matchNo": "MATCH 46",
        "date": "12/2/20",
        "p1": "Winner of Match  43",
        "p2": "Winner of Match 46",
        "winner": ""
      }
    ];

    var tableData = [
      {
        "name": "AMIYA",
        "played": 11,
        "won": 7,
        "lost": 3,
        "draw": 1,
        "points": 15
      }, {
        "name": "ARUN",
        "played": 11,
        "won": 8,
        "lost": 3,
        "draw": 0,
        "points": 16
      }, {
        "name": "ASHOK",
        "played": 8,
        "won": 5,
        "lost": 3,
        "draw": 0,
        "points": 10
      }, {
        "name": "NITISH",
        "played": 4,
        "won": 2,
        "lost": 2,
        "draw": 0,
        "points": 4
      }, {
        "name": "PAWAN",
        "played": 7,
        "won": 1,
        "lost": 6,
        "draw": 0,
        "points": 2
      }, {
        "name": "PRINCE",
        "played": 10,
        "won": 8,
        "lost": 2,
        "draw": 0,
        "points": 16
      }, {
        "name": "RAHUL",
        "played": 9,
        "won": 2,
        "lost": 6,
        "draw": 1,
        "points": 5
      }
    ];
  </script>
  <div class="mainSection">
    <div class="header">
      <div id="Match" class="tabcontent">
        <h1>Chess Tournament</h1>
        <p>21 Nov 2020 - 2 Dec 2020</p>
      </div>

      <div id="Point" class="tabcontent">
        <h1>Chess Tournament</h1>
        <p>21 Nov 2020 - 2 Dec 2020</p>
      </div>
      <button class="tablink" onclick="openCity('Match', this)" id="defaultOpen">Matches</button>
      <button class="tablink" onclick="openCity('Point', this)">Points Table</button>
    </div>


    <div class="bodySection">
      <div class="tabSection" id="MatchSec">
      </div>
      <div class="tabSection" id="PointSec">
        <table id="pointsTable">
          <tr>
            <th>Player</th>
            <th>Played</th>
            <th>Won</th>
            <th>Lost</th>
            <th>Draw</th>
            <th>Points</th>
          </tr>
        </table>
      </div>
    </div>
  </div>

  <script>
    function openCity(cityName, elmnt) {
      var i, tabcontent, tablinks;
      tabcontent = document.getElementsByClassName("tabcontent");
      for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].style.display = "none";
      }
      tablinks = document.getElementsByClassName("tablink");
      for (i = 0; i < tablinks.length; i++) {
        tablinks[i].style.backgroundColor = "";
      }
      document.getElementById(cityName).style.display = "block";
      elmnt.style.backgroundColor = "#223577";
      tabSec = document.getElementsByClassName("tabSection");
      for (i = 0; i < tabSec.length; i++) {
        tabSec[i].style.display = "none";
      }
      document.getElementById(cityName + "Sec").style.display = "block";
    }
    // Get the element with id="defaultOpen" and click on it
    document.getElementById("defaultOpen").click();

    var bodySec = document.getElementById("MatchSec");
    data.forEach(match => {
      var matchBox = document.createElement("div");
      matchBox.classList = "matchBox";

      var matchDate = document.createElement("div");
      matchDate.classList = "matchDate";
      matchDate.innerHTML = match.matchNo + "  -  " + match.date;

      var matchTitle = document.createElement("div");
      matchTitle.classList = "matchTitle";
      var p1 = document.createElement("div");
      p1.classList = match.p1;
      p1.innerHTML = match.p1;
      var p2 = document.createElement("div");
      p2.classList = match.p2;
      p2.innerHTML = match.p2;
      matchTitle.appendChild(p1);
      matchTitle.appendChild(p2);

      var matchWinner = document.createElement("div");
      matchWinner.classList = "matchWinner";
      if (match.winner && match.winner != "") {
        matchWinner.innerHTML = "WINNER : " + match.winner;
        matchWinner.className = matchWinner.className + " " + match.winner;
      }
      else if(match.winner=="DRAW"){
        matchWinner.innerHTML = "WINNER : DRAW";
      }  
      else {
        matchWinner.innerHTML = "WINNER : ?";
      }

      matchBox.appendChild(matchDate);
      matchBox.appendChild(matchTitle);
      matchBox.appendChild(matchWinner);

      bodySec.appendChild(matchBox);


    });

    //code for points table
    tableData.sort(function (a, b) {
      return b.points - a.points;
    });
    var pointsTable = document.getElementById("pointsTable");
    tableData.forEach(player => {
      var tableRow = document.createElement("tr");
      var col1 = document.createElement("td");
      var col2 = document.createElement("td");
      var col3 = document.createElement("td");
      var col4 = document.createElement("td");
      var col5 = document.createElement("td");
      var col6 = document.createElement("td");
      col1.innerHTML = player.name;
      col2.innerHTML = player.played;
      col3.innerHTML = player.won;
      col4.innerHTML = player.lost;
      col5.innerHTML = player.draw;
      col6.innerHTML = player.points;
      tableRow.appendChild(col1);
      tableRow.appendChild(col2);
      tableRow.appendChild(col3);
      tableRow.appendChild(col4);
      tableRow.appendChild(col5);
      tableRow.appendChild(col6);
      pointsTable.appendChild(tableRow);
    });
  </script>
</body>

</html>
